title: $:/plugins/collaborative-blog/ViewTemplate/Post/Gallery
tags: $:/tags/ViewTemplate
type: text/vnd.tiddlywiki

\define isGalleryPost() [all[current]tag[Post]tag[Gallery]]

<$list filter=<<isGalleryPost>> variable="null">

<div class="cb-post cb-gallery-post">

<!-- Gallery Badge -->
<div class="cb-gallery-badge">
üñºÔ∏è GALLERY
</div>

<!-- Post Title -->
<h1 class="cb-post-title">
<$view field="title"/>
</h1>

<!-- Post Meta -->
<div class="cb-post-meta">

<!-- Author -->
<$list filter="[all[current]has[author]]" variable="null">
<span class="cb-post-author">By <$view field="author"/></span>
</$list>

<!-- Date -->
<$list filter="[all[current]has[date]]" variable="null">
<span class="cb-post-date">
<$view field="date" format="date" template="DD MMM YYYY"/>
</span>
</$list>

</div>

<!-- Post Content / Description -->
<div class="cb-post-content">
<$transclude mode="block"/>
</div>

<!-- Gallery Images -->
<$list filter="[all[current]has[gallery-images]]" variable="null">
<div class="cb-gallery-grid">

<$list filter="[all[current]get[gallery-images]split[,]]" variable="imagePath">
<div class="cb-gallery-item">
<img src={{{ [<imagePath>trim[]] }}} alt="Gallery image" class="cb-gallery-image"/>
</div>
</$list>

</div>
</$list>

<!-- Alternative: Gallery using tiddler tags -->
<$list filter="[all[current]!has[gallery-images]]" variable="null">
<div class="cb-gallery-grid">

<$list filter="[all[current]tagging[]type[image/jpeg]] [all[current]tagging[]type[image/png]] [all[current]tagging[]type[image/gif]]" variable="imageTitle">
<div class="cb-gallery-item">
<$image source=<<imageTitle>> class="cb-gallery-image"/>
<$list filter="[<imageTitle>has[caption]]">
<div class="cb-gallery-caption">
<$view tiddler=<<imageTitle>> field="caption"/>
</div>
</$list>
</div>
</$list>

</div>
</$list>

<!-- Categories/Tags -->
<div style="margin-top: 2rem;">
<$list filter="[all[current]tags[]!prefix[$:/]!match[Post]!match[Gallery]!match[Draft]!match[Featured]!match[Favorite]]" variable="tag">
<a href={{{ [<tag>encodeuricomponent[]addprefix[#]] }}} class="cb-category-tag">
<$text text=<<tag>>/>
</a>
</$list>
</div>

</div>

</$list>

<style>
.cb-gallery-post {
  position: relative;
}

.cb-gallery-badge {
  display: inline-block;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: var(--cb-text-white);
  padding: 0.4rem 1rem;
  border-radius: var(--cb-radius-md);
  font-size: 0.75rem;
  font-weight: 700;
  letter-spacing: 0.5px;
  margin-bottom: 1.5rem;
}

.cb-gallery-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 1.5rem;
  margin: 2rem 0;
}

.cb-gallery-item {
  position: relative;
  overflow: hidden;
  border-radius: var(--cb-radius-lg);
  box-shadow: var(--cb-shadow-md);
  transition: transform 0.3s, box-shadow 0.3s;
  background: var(--cb-bg-content);
}

.cb-gallery-item:hover {
  transform: translateY(-4px);
  box-shadow: var(--cb-shadow-xl);
  cursor: pointer;
}

.cb-gallery-image {
  width: 100%;
  height: 250px;
  object-fit: cover;
  display: block;
  transition: transform 0.3s;
}

.cb-gallery-item:hover .cb-gallery-image {
  transform: scale(1.05);
}

.cb-gallery-caption {
  padding: 0.75rem 1rem;
  background: var(--cb-bg-content);
  font-size: 0.9rem;
  color: var(--cb-text-secondary);
  text-align: center;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .cb-gallery-grid {
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 1rem;
  }

  .cb-gallery-image {
    height: 180px;
  }
}
</style>
